# Functional PHP

## Running Tests

This project uses [Composer](getcomposer.org) for dependency management and
[PHPUnit](phpunit.de) for unit testing.  PHPUnit requires access to autoloading
and the autoloading files must be first be generated by composer with the
following command:

    $ composer dump-autoload

Then, run the unit tests with

    $ phpunit --bootstrap vendor/autoload.php test

## Usage

Currently this library only supports Monads and, in particular, only supports
the Maybe Monad.  If you're familiar with Maybe Monads from another language
such as Haskell, then this should be intuitive.

The Monad interface contains only a single method, namely `bind`.  This method
is used to call a function on a contained value.  The only requirement is that
this function return a Monad of the same type on which `bind` is currently being
called.

Say we have an integer contained in a Just:

```php
use TMciver\Functional\Just;

$maybeAnInt = new Just(1);
```

and we want to apply the following function to the contained integer:

```php
function maybeAddOne($i) {
	return new Just($i + 1);
}
```

(note that this function expects an integer argument - not an integer wrapped in
a Maybe).  Then you simply do

```php
$maybeAnIntPlusOne = $maybeAnInt->bind(function($j) {
	return maybeAddOne($j);
});
```

Note that `bind` can be called with any `callable` so the above could also have
been written:

```php
$maybeAnIntPlusOne = $maybeAnInt->bind('maybeAddOne');
```

See
[PHP's documentation on `callable`](http://php.net/manual/en/language.types.callable.php)
for more info.  If calling a function using a string seems strange, good; it
*is* strange! :)
